Name:		libcarid
Version:	@VERSION@
Release:	gst.3
Summary:	Library for decoding and encoding video in the Dirac format.

Group:		Libraries/Multimedia
License:	LGPL
URL:		http://schrodinger.sourceforge.net
Vendor:         GStreamer Backpackers Team <package@gstreamer.net>
Source:		http://schrodinger.sourceforge.net/carid-%{version}.tar.gz
BuildRoot:	%{_tmppath}/%{name}-root
Prereq:		/sbin/ldconfig

%description
Library for decoding and encoding video in the Dirac format. It is implemented in ANSI C and optimized through the us of liboil. libcarid is written as a collaboartion between the BBC Research and Development, David Schleef and Fluendo.

%package devel
Summary:	libcarid development files and static libraries.
Group:		Development/Libraries
Requires:	%{name} = %{version}-%{release}

%description devel
libcarid-devel contains the files needed to build packages that depend on libcarid.

%prep
%setup -q -n carid-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" ./configure --prefix=/usr --enable-shared
make

%install
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf $RPM_BUILD_ROOT

%makeinstall
# Clean out files that should not be part of the rpm.
# This is the recommended way of dealing with it for RH8
rm -f $RPM_BUILD_ROOT%{_libdir}/*.la
rm -f $RPM_BUILD_ROOT%{_libdir}/*.a
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-0.10/*.la
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-0.10/*.a
%clean
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf $RPM_BUILD_ROOT

%post
/sbin/ldconfig

%postun
/sbin/ldconfig


%files
%defattr(-,root,root)
%doc COPYING COPYING.MIT COPYING.GPL COPYING.LGPL COPYING.MPL ChangeLog
%{_libdir}/libcarid-0.1.so.*
%{_libdir}/gstreamer-0.10/libgstcarid.so

%files devel
%defattr(-,root,root)
%{_libdir}/pkgconfig/carid-0.1.pc
%{_libdir}/libcarid-0.1.so

%changelog
* Wed Feb 05 2003 Christian F.K. Schaller <Uraeus@linuxrising.org>
- Update spec to handle pixbuf loader
* Sat Oct 26 2002 Christian F.K. Schaller <Uraeus@linuxrising.org>
- First attempt at spec
