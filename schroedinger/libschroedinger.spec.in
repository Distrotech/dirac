Name:		libschroedinger
Version:	@VERSION@
Release:	gst.3
Summary:	Library for decoding and encoding video in the Dirac format.

Group:		Applications/Multimedia
License:	LGPL-MIT-MPL
URL:		http://schrodinger.sourceforge.net
Vendor:         GStreamer Backpackers Team <package@gstreamer.net>
Source:		http://schrodinger.sourceforge.net/schroedinger-%{version}.tar.gz
BuildRoot:	%{_tmppath}/%{name}-root
Prereq:		/sbin/ldconfig

%description
Library for decoding and encoding video in the Dirac format. It is implemented in ANSI C and optimized through the us of liboil. libschro is written as a collaboartion between the BBC Research and Development, David Schleef and Fluendo.

%package devel
Summary:	libschro development files and static libraries.
Group:		Development/Libraries
Requires:	%{name} = %{version}-%{release}

%description devel
libschro-devel contains the files needed to build packages that depend on libschro.

%prep
%setup -q -n schroedinger-%{version}

%build
CFLAGS="$RPM_OPT_FLAGS" ./configure --prefix=/usr --enable-shared
make

%install
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf $RPM_BUILD_ROOT

%makeinstall
# Clean out files that should not be part of the rpm.
# This is the recommended way of dealing with it for RH8
rm -f $RPM_BUILD_ROOT%{_libdir}/*.la
rm -f $RPM_BUILD_ROOT%{_libdir}/*.a
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-0.10/*.la
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-0.10/*.a
%clean
[ "$RPM_BUILD_ROOT" != "/" ] && rm -rf $RPM_BUILD_ROOT

%post
/sbin/ldconfig

%postun
/sbin/ldconfig


%files
%defattr(-,root,root)
%doc COPYING COPYING.MIT COPYING.GPL COPYING.LGPL COPYING.MPL ChangeLog
%{_libdir}/libschroedinger-0.1.so.*
%{_libdir}/gstreamer-0.10/libgstschro.so

%files devel
%defattr(-,root,root)
%{_libdir}/pkgconfig/schroedinger-0.1.pc
%{_libdir}/libschroedinger-0.1.so
%{_includedir}/schroedinger-0.1/schroedinger/schro-stdint.h
%{_includedir}/schroedinger-0.1/schroedinger/schro.h
%{_includedir}/schroedinger-0.1/schroedinger/schroarith.h
%{_includedir}/schroedinger-0.1/schroedinger/schroasync.h
%{_includedir}/schroedinger-0.1/schroedinger/schrobits.h
%{_includedir}/schroedinger-0.1/schroedinger/schrobitstream.h
%{_includedir}/schroedinger-0.1/schroedinger/schrobuffer.h
%{_includedir}/schroedinger-0.1/schroedinger/schrodebug.h
%{_includedir}/schroedinger-0.1/schroedinger/schrodecoder.h
%{_includedir}/schroedinger-0.1/schroedinger/schroencoder.h
%{_includedir}/schroedinger-0.1/schroedinger/schroframe.h
%{_includedir}/schroedinger-0.1/schroedinger/schrometric.h
%{_includedir}/schroedinger-0.1/schroedinger/schromotion.h
%{_includedir}/schroedinger-0.1/schroedinger/schrooil.h
%{_includedir}/schroedinger-0.1/schroedinger/schroparams.h
%{_includedir}/schroedinger-0.1/schroedinger/schropredict.h
%{_includedir}/schroedinger-0.1/schroedinger/schrotables.h
%{_includedir}/schroedinger-0.1/schroedinger/schroutils.h
%{_includedir}/schroedinger-0.1/schroedinger/schrowavelet.h
%{_includedir}/schroedinger-0.1/schroedinger/schroengine.h
%{_includedir}/schroedinger-0.1/schroedinger/schroanalysis.h

%changelog
* Thu Apr 27 2006 Christian F.K. Schaller <christian@fluendo.com>
- Updates for carid -> schroedinger change
